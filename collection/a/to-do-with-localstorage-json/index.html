<!DOCTYPE html>
<html lang="es-MX" >
<head>
  <meta charset="UTF-8">
  <title>To-do with localStorage JSON</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
 <style>


*,
*:before,
*:after {
  box-sizing: inherit;
  padding: 0;
  margin: 0;
  outline: none;
}

.wrapper {
  /*width: 200px;*/
  margin: 20px auto;
  padding: 20px auto;
}

#input {
  /*width: 200px;*/
  height: 30px;
  border: 2px solid #909090;
  border-radius: 5px; width: 100%;
}

.box {
  /*color: #404040;*/
  font-size: 17px;
  margin-top: 20px;
}

.box li {
  padding: 5px 0px;
  border-bottom: 1px solid #ccc;
}
</style>

</head>
<body>

<div class="wrapper w3-container">
  <input type="text" id="input" placeholder="Type here" />
  <div class="box"></div>

</div>

  <script>
    var input = document.getElementById("input");
var box = document.querySelector(".box");

//var vals = [];

// The || "[]" is a fallback in case localStorage returns null
var vals = JSON.parse(localStorage.getItem('mylist') || "[]");
var li;

input.addEventListener("keyup", function(e) {
  var val = e.target.value;

  if (e.which == 13) {
    box.innerHTML = "";
    input.value = " ";

    // Push input value array
    vals.push(val);
    localStorage.setItem('mylist', JSON.stringify(vals));

    // Loop input values
    vals.map(function(item, index) {
      li = document.createElement("LI");
      box.appendChild(li);
      li.innerHTML = JSON.parse(localStorage.getItem('mylist'))[index];
    });
  }

}, false);

vals.forEach(function(entry) {
  li = document.createElement("LI");
  box.appendChild(li);
  li.innerHTML = entry;
})
  </script>

</body>
</html>
